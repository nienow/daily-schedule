const v=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],r=()=>{var a;const e=document.forms.generate,d=new Date(`${e.startDate.value}T00:00:00`),t=new Date(`${e.endDate.value}T00:00:00`),o=[e.sunday.checked,e.monday.checked,e.tuesday.checked,e.wednesday.checked,e.thursday.checked,e.friday.checked,e.saturday.checked],n=[];return(a=e.prefill)==null||a.forEach(i=>{n.push(i.value)}),{startDate:d,endDate:t,prefill:n,activeDays:o}},u=()=>{const{startDate:e,endDate:d,prefill:t,activeDays:o}=r(),n=Math.round((d.getTime()-e.getTime())/864e5),i=8.5/t.length;let s="";for(let l=0;l<n+1;l++){const c=new Date(e.getTime()+864e5*l);if(!o[c.getDay()])continue;const m=`<div class="title">${v[c.getDay()]}, ${f[c.getMonth()]} ${c.getDate()}</div>`,y=t.map(g=>`<div class="line" style="height: ${i}in"><div class="txt">${g}</div></div>`),p=`<div class="page">${m}${y.join("")}</div>`;s+=p}return s};function D(e){e.preventDefault();const d=r();window.history.pushState({params:d},null);const t=u();document.getElementById("output").contentWindow.document.body.innerHTML=t,document.getElementById("output").parentElement.style.visibility="visible",document.forms.generate.style.display="none"}window.addEventListener("popstate",e=>{var t;if(console.log(e),(t=e.state)==null?void 0:t.params){const o=u();document.getElementById("output").contentWindow.document.body.innerHTML=o,document.getElementById("output").parentElement.style.visibility="visible",document.forms.generate.style.display="none"}else document.getElementById("output").contentWindow.document.body.innerHTML="",document.getElementById("output").parentElement.style.visibility="hidden",document.forms.generate.style.display="block"});function h(e){e.preventDefault(),document.getElementById("output").contentWindow.print()}function E(){const e=document.createDocumentFragment(),d=document.getElementById("prefillTemplate");for(let t=8;t<17;t++){const o=t===12?12:t%12,n=d.content.cloneNode(!0);n.querySelector("input").value=""+o,e.appendChild(n);for(let a=1;a<2;a++)e.appendChild(d.content.cloneNode(!0))}document.getElementById("prefill").appendChild(e)}function B(){const e=document.forms.generate,d=e.startDate,t=e.endDate,o=new Date(new Date().toDateString());d.valueAsDate=o,o.setMonth(o.getMonth()+3),t.valueAsDate=o,E(),document.getElementById("previewBtn").addEventListener("click",D),document.getElementById("printBtn").addEventListener("click",h),document.getElementById("backBtn").addEventListener("click",()=>{window.history.back()}),document.getElementById("addBtn").addEventListener("click",n=>{n.preventDefault(),document.getElementById("prefill").appendChild(document.getElementById("prefillTemplate").content.cloneNode(!0))}),document.getElementById("prefill").addEventListener("click",n=>{n.preventDefault(),n.target.name==="removePrefill"&&n.target.parentElement.remove()})}B();
